{% extends 'baseAdmin.html.twig' %}

{% block title %}Détails de la Vente{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('assetsback/vendors/mdi/css/materialdesignicons.min.css') }}">
    <link rel="stylesheet" href="{{ asset('assetsback/vendors/ti-icons/css/themify-icons.css') }}">
    <link rel="stylesheet" href="{{ asset('assetsback/vendors/css/vendor.bundle.base.css') }}">
    <link rel="stylesheet" href="{{ asset('assetsback/vendors/font-awesome/css/font-awesome.min.css') }}">
    <link rel="stylesheet" href="{{ asset('assetsback/css/style.css') }}">
{% endblock %}

{% block body %}
    <div class="container mt-5">
        <div class="card shadow-lg p-4">
            <div class="card-header bg-primary text-white">
                <h3 class="text-center">Détails de la Vente</h3>
            </div>
            <div class="card-body">
                <table class="table table-striped table-hover">
                    <tbody>
                        <tr>
                            <th>Id</th>
                            <td>{{ vente.id }}</td>
                        </tr>
                        <tr>
                            <th>Nom</th>
                            <td>{{ vente.nom }}</td>
                        </tr>
                        <tr>
                            <th>Date</th>
                            <td>{{ vente.date ? vente.date|date('Y-m-d H:i:s') : 'N/A' }}</td>
                        </tr>
                        <tr>
                            <th>Prix</th>
                            <td>{{ vente.prix }} €</td>
                        </tr>
                        <tr>
                            <th>Méthode de Paiement</th>
                            <td>{{ vente.methodepayement }}</td>
                        </tr>
                        <!-- Afficher l'image du produit associé à la vente -->
                        <tr>
                            <th>Image du Produit</th>
                            <td>
                                {% if vente.produit and vente.produit.image %}
                                    <img src="{{ asset('img/stock/' ~ vente.produit.image) }}" alt="{{ vente.produit.nom }}" class="img-fluid" style="max-width: 200px;">
                                {% else %}
                                    <p class="text-danger">Aucune image disponible pour ce produit.</p>
                                {% endif %}
                            </td>
                        </tr>
                    </tbody>
                </table>
                <div class="text-center">
                    <a href="{{ path('app_vente_index') }}" class="btn btn-secondary btn-sm">Retour à la liste</a>
                    <a href="{{ path('app_vente_edit', {'id': vente.id}) }}" class="btn btn-warning btn-sm">
                        <i class="mdi mdi-pencil"></i> Modifier
                    </a>
                    <!-- Red delete button -->
                    <a href="{{ path('app_vente_delete', {'id': vente.id}) }}" class="btn btn-danger btn-sm">
                        <i class="mdi mdi-delete"></i> Supprimer
                    </a>
                </div>
                {{ include('vente/_delete_form.html.twig') }}
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('assetsback/vendors/js/vendor.bundle.base.js') }}"></script>
    <script src="{{ asset('assetsback/js/off-canvas.js') }}"></script>
    <script src="{{ asset('assetsback/js/misc.js') }}"></script>
{% endblock %}