{% extends 'base.html.twig' %}

{% block header %}
<header>
    <!-- Start Navigation -->
    <nav class="navbar mobile-sidenav navbar-style-one navbar-sticky navbar-default validnavs white navbar-fixed no-background">
        <div class="container-full d-flex justify-content-between align-items-center">
            <div class="collapse navbar-collapse" id="navbar-menu">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-menu">
                    <i class="fa fa-bars"></i>
                </button>
            </div>

            <div class="navbar-header ms-auto d-flex align-items-center">
                <a class="navbar-brand" href="{{ path('app_home') }}">
                    <img src="{{ asset('img/logo-mix.png') }}" class="logo" alt="Logo">
                </a>
            </div>

        </div>   
    </nav>
</header>
{% endblock %}

{% block body %}
<!-- Contact Form Section -->
<center>
<div class="contact-area contact-page overflow-hidden bg-gray default-padding d-flex justify-content-center align-items-center" style="min-height: 100vh;">">
    <div class="container">
        <div class="row align-center justify-content-center">
            <div class="col-tact-stye-one col-xl-6 col-lg-7">
                <div class="contact-form-style-one mb-md-50">
                    <img src="{{ asset('img/illustration/10.png') }}" alt="Image Not Found">
                    <h5 class="sub-title">Réinitialisation du mot de passe</h5>

                    <!-- Phone Number Form -->
                    {% if not showVerificationForm and not showResetForm %}
                        <form method="post" action="{{ path('send_sms') }}" id="phoneForm">
                            <input type="text" name="tel" id="phoneNumber" placeholder="entrez votre numéro*"class="form-control" required />
                            <button type="submit" class="btn btn-primary">Envoyer le Code</button>
                        </form>
                    {% endif %}

                    <!-- Popup for Verification Code -->
                    {% if showVerificationForm %}
                        <div id="verificationPopup" style="background: white; padding: 20px; border-radius: 8px; text-align: center;">
                            <h3>Entrez le Code de Vérification</h3>
                            <form method="post" action="{{ path('verify_code') }}" id="verificationForm">
                                <input type="text" name="verification_code" class="form-control" required />
                                <button type="submit" class="btn btn-success">Vérifier</button>
                            </form>
                        </div>
                    {% endif %}

                    <!-- Reset Password Form -->
                    {% if showResetForm %}
                        <div id="resetPasswordForm" style="background: white; padding: 20px; border-radius: 8px; text-align: center;">
                            <h3>Réinitialiser le Mot de Passe</h3>
                            <form method="post" action="{{ path('reset_password') }}" id="resetPasswordForm">
                                <input type="hidden" name="phoneNumber" value="{{ phoneNumber }}" />
                                <input type="password" name="newPassword" class="form-control" placeholder="Nouveau mot de passe" required />
                                <button type="submit" class="btn btn-primary">Réinitialiser</button>
                            </form>
                        </div>
                    {% endif %}

                </div>
            </div>

        </div>
    </div>
</div>
</center>
{% endblock %}

{% block footer %}
{% endblock %}